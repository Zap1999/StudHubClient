
<button mat-raised-button color="primary" id="btnCreate" routerLink="/questions/create">Create Question</button>
<button mat-button routerLink="." (click)="goBack()">Back</button>

<mat-card *ngIf="question" class="questionCard">
    <mat-card-title>
        {{question.title}}
    </mat-card-title>
    <mat-divider></mat-divider>
    <mat-card-content>
        {{question.body}}
    </mat-card-content>

    <button mat-button color="primary" routerLink="/questions/{{question.id}}/edit">Edit</button>
    <button mat-button color="warn"  (click)="deleteQuestion(question.id)">Delete</button> 

    <span>Asked: {{question.creationDate}}</span>
    <mat-card-footer *ngIf="question.user" class="userCard">
            
    {{question.user.username}} Here will be users name ladies and gentlemen
    </mat-card-footer>
    
</mat-card>


    <div class="answer-list" *ngIf="question?.answerList">
        <mat-card class="answer-mat-card" *ngFor="let answer of question.answerList">
            <mat-card-content class="answer-mat-card-content">
                <div class="row">
                    <div class="col-md-2 answer-vote">
                            <div *ngIf="answer.vote">
                                <div *ngIf="answer.vote.value === -1">
                                    <button class="btn btn-light btn-vote" (click)="upvoteAnswer(answer)">+</button><br/>
                                    <div class="text-danger rate-val">  {{answer.rate}}</div>
                                    <button class="btn btn-danger btn-vote" (click)="downvoteAnswer(answer)">-</button>
                                </div>
                                <div *ngIf="answer.vote.value === 1">
                                    <button class="btn btn-success btn-vote" (click)="upvoteAnswer(answer)">+</button><br/>
                                    <div class="text-success rate-val" >  {{answer.rate}}</div>
                                    <button class="btn btn-light btn-vote" (click)="downvoteAnswer(answer)">-</button>
                                </div>
                            </div>
                            <div *ngIf="!answer.vote || answer.vote.value === 0">
                                <button class="btn btn-light btn-vote" (click)="upvoteAnswer(answer)">+</button><br/>
                                <div class="rate-val">  {{answer.rate}} </div>
                                <button class="btn btn-light btn-vote" (click)="downvoteAnswer(answer)">-</button>
                            </div>
                            

                    </div>
                    <div class="col-md-10">
                            <div class="answer-approved text-success" *ngIf="answer.approved">
                                    Answer is approved by question creator
                            </div>
                            <div>
                                {{answer.body}} 
                            </div>
                                
                                
                    </div>
                </div>
                
            </mat-card-content>
            <mat-card-footer>{{answer.creationDate}} {{answer.user.username}}
            </mat-card-footer>

                <div *ngIf="this.user">
                <button class="btn btn-success" *ngIf="(!answer.approved) && this.user.username === question.user.username" (click)="approveAnswer(answer.id, true)">Mark as correct</button>
                <button class="btn btn-light" *ngIf="answer.approved && this.user.username === question.user.username" (click)="approveAnswer(answer.id, false)">Unmark answer</button>
                <button class="btn btn-danger" *ngIf="canDelete(answer)" (click)="deleteAnswer(answer.id)">Delete</button>
                

                <button>Comment</button>
                </div>
        </mat-card>
                
    <app-answer [questionId]="question.id" (newAnswerEvent)="recieveNewAnswer($event)"></app-answer>
    </div>
